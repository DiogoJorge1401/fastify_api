{"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/app.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":54}},"5":{"start":{"line":8,"column":18},"end":{"line":8,"column":62}},"6":{"start":{"line":9,"column":18},"end":{"line":9,"column":53}},"7":{"start":{"line":10,"column":22},"end":{"line":10,"column":44}},"8":{"start":{"line":11,"column":23},"end":{"line":11,"column":49}},"9":{"start":{"line":12,"column":23},"end":{"line":12,"column":55}},"10":{"start":{"line":13,"column":23},"end":{"line":13,"column":60}},"11":{"start":{"line":14,"column":17},"end":{"line":14,"column":37}},"12":{"start":{"line":15,"column":18},"end":{"line":15,"column":46}},"13":{"start":{"line":16,"column":15},"end":{"line":16,"column":40}},"14":{"start":{"line":17,"column":22},"end":{"line":28,"column":1}},"15":{"start":{"line":29,"column":20},"end":{"line":53,"column":1}},"16":{"start":{"line":30,"column":16},"end":{"line":30,"column":88}},"17":{"start":{"line":31,"column":4},"end":{"line":34,"column":7}},"18":{"start":{"line":32,"column":8},"end":{"line":32,"column":26}},"19":{"start":{"line":33,"column":8},"end":{"line":33,"column":15}},"20":{"start":{"line":35,"column":4},"end":{"line":35,"column":80}},"21":{"start":{"line":36,"column":4},"end":{"line":36,"column":87}},"22":{"start":{"line":37,"column":4},"end":{"line":37,"column":64}},"23":{"start":{"line":38,"column":4},"end":{"line":38,"column":70}},"24":{"start":{"line":39,"column":4},"end":{"line":39,"column":62}},"25":{"start":{"line":40,"column":4},"end":{"line":41,"column":30}},"26":{"start":{"line":41,"column":8},"end":{"line":41,"column":30}},"27":{"start":{"line":42,"column":4},"end":{"line":43,"column":30}},"28":{"start":{"line":43,"column":8},"end":{"line":43,"column":30}},"29":{"start":{"line":44,"column":25},"end":{"line":49,"column":5}},"30":{"start":{"line":45,"column":8},"end":{"line":48,"column":57}},"31":{"start":{"line":46,"column":12},"end":{"line":46,"column":64}},"32":{"start":{"line":48,"column":12},"end":{"line":48,"column":57}},"33":{"start":{"line":50,"column":4},"end":{"line":50,"column":38}},"34":{"start":{"line":51,"column":4},"end":{"line":51,"column":64}},"35":{"start":{"line":51,"column":48},"end":{"line":51,"column":62}},"36":{"start":{"line":52,"column":4},"end":{"line":52,"column":15}},"37":{"start":{"line":54,"column":0},"end":{"line":54,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":29,"column":20},"end":{"line":29,"column":21}},"loc":{"start":{"line":29,"column":26},"end":{"line":53,"column":1}},"line":29},"2":{"name":"(anonymous_2)","decl":{"start":{"line":31,"column":30},"end":{"line":31,"column":31}},"loc":{"start":{"line":31,"column":48},"end":{"line":34,"column":5}},"line":31},"3":{"name":"(anonymous_3)","decl":{"start":{"line":44,"column":25},"end":{"line":44,"column":26}},"loc":{"start":{"line":44,"column":42},"end":{"line":49,"column":5}},"line":44},"4":{"name":"(anonymous_4)","decl":{"start":{"line":51,"column":28},"end":{"line":51,"column":29}},"loc":{"start":{"line":51,"column":48},"end":{"line":51,"column":62}},"line":51}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":45,"column":8},"end":{"line":48,"column":57}},"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":48,"column":57}},{"start":{"line":45,"column":8},"end":{"line":48,"column":57}}],"line":45}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":4,"27":1,"28":3,"29":1,"30":0,"31":0,"32":0,"33":1,"34":1,"35":1,"36":1,"37":1},"f":{"0":3,"1":1,"2":1,"3":0,"4":1},"b":{"0":[1,1,1],"1":[0,3],"2":[3,3],"3":[0,0]},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/app.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/app.ts"],"names":[],"mappings":";;;;;;AAAA,uDAA8C;AAC9C,+DAA0D;AAC1D,sDAA6B;AAC7B,6CAA6C;AAC7C,kDAAyC;AACzC,wDAAoD;AACpD,6DAAyD;AACzD,sCAAqD;AACrD,+CAAkD;AAClD,yCAA4C;AAqB5C,MAAM,aAAa,GAAmB;IACpC,WAAW,EAAE,OAAO;IACpB,WAAW,EAAE,IAAI;IACjB,SAAS,EAAE,IAAI;IACf,OAAO,EAAE;QACP,IAAI,EAAE;YACJ,KAAK,EAAE,aAAa;YACpB,WAAW,EAAE,uBAAuB;YACpC,OAAO,EAAP,sBAAO;SACR;KACF;CACF,CAAA;AACM,MAAM,WAAW,GAAG,GAAG,EAAE;IAC9B,MAAM,GAAG,GAAG,IAAA,iBAAO,EAAC,EAAE,MAAM,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE,IAAI,EAAE,EAAE,CAAC,CAAA;IAErE,GAAG,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE;QACzC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAA;QACjB,IAAI,EAAE,CAAA;IACR,CAAC,CAAC,CAAA;IACF,GAAG,CAAC,QAAQ,CAAC,aAAU,EAAE,EAAE,MAAM,EAAE,kCAAkC,EAAE,CAAC,CAAA;IAExE,GAAG,CAAC,QAAQ,CAAC,iBAAO,EAAE,IAAA,6BAAe,EAAC,aAAa,CAAC,CAAC,CAAA;IAErD,GAAG,CAAC,QAAQ,CAAC,mBAAU,EAAE,EAAE,MAAM,EAAE,YAAY,EAAE,CAAC,CAAA;IAElD,GAAG,CAAC,QAAQ,CAAC,sBAAa,EAAE,EAAE,MAAM,EAAE,eAAe,EAAE,CAAC,CAAA;IAExD,GAAG,CAAC,QAAQ,CAAC,cAAc,EAAE,2BAAY,CAAC,CAAA;IAE1C,KAAK,MAAM,MAAM,IAAI,kBAAW;QAAE,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,CAAA;IAEvD,KAAK,MAAM,MAAM,IAAI,wBAAc;QAAE,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,CAAA;IAE1D,MAAM,YAAY,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE;QACnC,IAAI,GAAG,YAAY,2BAAY;YAC7B,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,GAAG,CAAC,OAAO,EAAE,CAAC,CAAA;;YAChD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,GAAG,CAAC,OAAO,EAAE,CAAC,CAAA;IACnD,CAAC,CAAA;IAED,GAAG,CAAC,eAAe,CAAC,YAAY,CAAC,CAAA;IAEjC,GAAG,CAAC,GAAG,CAAC,cAAc,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;IAE3D,OAAO,GAAG,CAAA;AACZ,CAAC,CAAA;AAhCY,QAAA,WAAW,eAgCvB","sourcesContent":["import fastifyJwt, { JWT } from '@fastify/jwt'\nimport swagger, { SwaggerOptions } from '@fastify/swagger'\nimport Fastify from 'fastify'\nimport { withRefResolver } from 'fastify-zod'\nimport { version } from '../package.json'\nimport { RequestError } from './errors/RequestError'\nimport { authenticate } from './middlewares/authenticate'\nimport { productRoutes, userRoutes } from './routes/'\nimport { productSchemas } from './schemas/product'\nimport { userSchemas } from './schemas/user'\n\ndeclare module 'fastify' {\n  interface FastifyRequest {\n    jwt: JWT\n  }\n  export interface FastifyInstance {\n    authenticate: any\n  }\n}\n\ndeclare module '@fastify/jwt' {\n  export interface FastifyJWT {\n    user: {\n      email: string\n      name: string\n      id: number\n    }\n  }\n}\n\nconst optionSwagger: SwaggerOptions = {\n  routePrefix: '/docs',\n  exposeRoute: true,\n  staticCSP: true,\n  openapi: {\n    info: {\n      title: 'Fastify API',\n      description: 'API for some products',\n      version,\n    },\n  },\n}\nexport const buildServer = () => {\n  const app = Fastify({ logger: { level: 'info', prettyPrint: true } })\n\n  app.addHook('preHandler', (req, _, done) => {\n    req.jwt = app.jwt\n    done()\n  })\n  app.register(fastifyJwt, { secret: '406fb958db91cd22b7882812e9ff04e2' })\n\n  app.register(swagger, withRefResolver(optionSwagger))\n\n  app.register(userRoutes, { prefix: '/api/users' })\n\n  app.register(productRoutes, { prefix: '/api/products' })\n\n  app.decorate('authenticate', authenticate)\n\n  for (const schema of userSchemas) app.addSchema(schema)\n\n  for (const schema of productSchemas) app.addSchema(schema)\n\n  const errorHandler = (err, _, rep) => {\n    if (err instanceof RequestError)\n      rep.status(err.status).send({ error: err.message })\n    else rep.status(500).send({ error: err.message })\n  }\n\n  app.setErrorHandler(errorHandler)\n\n  app.get('/healthcheck', async (req, rep) => rep.send('OK'))\n\n  return app\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dfd30b39a46252dcefcbab0da2f91b7ea09f639b","contentHash":"7d414360fbaa2d20c16e9d3f313129d9ee97da0d3b4ff71424cf5bf06dfb542e"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/errors/RequestError.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/errors/RequestError.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"2":{"start":{"line":7,"column":8},"end":{"line":7,"column":23}},"3":{"start":{"line":8,"column":8},"end":{"line":8,"column":29}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":33},"end":{"line":9,"column":5}},"line":6}},"branchMap":{},"s":{"0":1,"1":1,"2":0,"3":0,"4":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/errors/RequestError.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/errors/RequestError.ts"],"names":[],"mappings":";;;AAAA,MAAa,YAAa,SAAQ,KAAK;IACD;IAApC,YAAY,OAAe,EAAS,MAAc;QAChD,KAAK,CAAC,OAAO,CAAC,CAAA;QADoB,WAAM,GAAN,MAAM,CAAQ;IAElD,CAAC;CACF;AAJD,oCAIC","sourcesContent":["export class RequestError extends Error {\n  constructor(message: string, public status: number) {\n    super(message)\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c6d7dca5457ef0d6edb2eca6ca3922cd0801d82b","contentHash":"f1467408830578260a9d924607df1e63e4d67aff04d1f11d19c0a58b97961915"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/middlewares/authenticate.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/middlewares/authenticate.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":23},"end":{"line":4,"column":55}},"3":{"start":{"line":5,"column":21},"end":{"line":12,"column":1}},"4":{"start":{"line":6,"column":4},"end":{"line":11,"column":5}},"5":{"start":{"line":7,"column":8},"end":{"line":7,"column":30}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":64}},"7":{"start":{"line":13,"column":0},"end":{"line":13,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":21},"end":{"line":5,"column":22}},"loc":{"start":{"line":5,"column":36},"end":{"line":12,"column":1}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/middlewares/authenticate.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/middlewares/authenticate.ts"],"names":[],"mappings":";;;AACA,wDAAoD;AAE7C,MAAM,YAAY,GAAG,KAAK,EAAE,GAAmB,EAAE,EAAE;IACxD,IAAI;QACF,MAAM,GAAG,CAAC,SAAS,EAAE,CAAA;KACtB;IAAC,OAAO,GAAG,EAAE;QACZ,MAAM,IAAI,2BAAY,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,CAAA;KACzC;AACH,CAAC,CAAA;AANY,QAAA,YAAY,gBAMxB","sourcesContent":["import { FastifyRequest } from 'fastify'\nimport { RequestError } from '@/errors/RequestError'\n\nexport const authenticate = async (req: FastifyRequest) => {\n  try {\n    await req.jwtVerify()\n  } catch (err) {\n    throw new RequestError(err.message, 401)\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6aa9051a7b8933f9a5e8da0b37ea1a8e75f947a2","contentHash":"6bd0356affe16194fdb304335fa04f62242134bee8e0dbf4d7b96463fdfcd2d0"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/routes/index.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/routes/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":126}},"13":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"14":{"start":{"line":14,"column":95},"end":{"line":14,"column":126}},"15":{"start":{"line":16,"column":0},"end":{"line":16,"column":62}},"16":{"start":{"line":17,"column":0},"end":{"line":17,"column":50}},"17":{"start":{"line":18,"column":0},"end":{"line":18,"column":47}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":50},"end":{"line":13,"column":51}},"loc":{"start":{"line":13,"column":71},"end":{"line":15,"column":1}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"type":"binary-expr","locations":[{"start":{"line":13,"column":20},"end":{"line":13,"column":24}},{"start":{"line":13,"column":28},"end":{"line":13,"column":45}},{"start":{"line":13,"column":50},"end":{"line":15,"column":1}}],"line":13},"9":{"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"type":"if","locations":[{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},{"start":{"line":14,"column":21},"end":{"line":14,"column":126}}],"line":14},"10":{"loc":{"start":{"line":14,"column":25},"end":{"line":14,"column":93}},"type":"binary-expr","locations":[{"start":{"line":14,"column":25},"end":{"line":14,"column":40}},{"start":{"line":14,"column":44},"end":{"line":14,"column":93}}],"line":14}},"s":{"0":1,"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":0,"9":0,"10":0,"11":1,"12":2,"13":2,"14":2,"15":1,"16":1,"17":1},"f":{"0":2,"1":2,"2":0,"3":2},"b":{"0":[1,1,1],"1":[1,0],"2":[2,0],"3":[2,0],"4":[2,2],"5":[0,2],"6":[2,0],"7":[0,0],"8":[1,1,1],"9":[2,0],"10":[2,2]},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/routes/index.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/routes/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,kDAA+B;AAC/B,+CAA4B","sourcesContent":["export * from './productRoutes'\nexport * from './userRoutes'"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"306e597369053f2d57d8783dc6ee217ebee7d2af","contentHash":"6bb3a742a3327e8738f8b5bcb493947ed347846bb9b5884f1cd2ba74670f80a9"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/routes/productRoutes.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/routes/productRoutes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"2":{"start":{"line":4,"column":29},"end":{"line":4,"column":73}},"3":{"start":{"line":5,"column":18},"end":{"line":5,"column":47}},"4":{"start":{"line":6,"column":22},"end":{"line":16,"column":1}},"5":{"start":{"line":7,"column":30},"end":{"line":7,"column":74}},"6":{"start":{"line":8,"column":4},"end":{"line":14,"column":49}},"7":{"start":{"line":15,"column":4},"end":{"line":15,"column":140}},"8":{"start":{"line":17,"column":0},"end":{"line":17,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":22},"end":{"line":6,"column":23}},"loc":{"start":{"line":6,"column":37},"end":{"line":16,"column":1}},"line":6}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/routes/productRoutes.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/routes/productRoutes.ts"],"names":[],"mappings":";;;AACA,0EAAqE;AACrE,gDAAyC;AAElC,MAAM,aAAa,GAAG,KAAK,EAAE,GAAoB,EAAE,EAAE;IAC1D,MAAM,iBAAiB,GAAG,IAAI,sCAAiB,EAAE,CAAA;IAEjD,GAAG,CAAC,IAAI,CACN,GAAG,EACH;QACE,UAAU,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC;QAC9B,MAAM,EAAE;YACN,IAAI,EAAE,IAAA,cAAI,EAAC,qBAAqB,CAAC;YACjC,QAAQ,EAAE,EAAE,GAAG,EAAE,IAAA,cAAI,EAAC,uBAAuB,CAAC,EAAE;SACjD;KACF,EACD,iBAAiB,CAAC,sBAAsB,CACzC,CAAA;IAED,GAAG,CAAC,GAAG,CACL,GAAG,EACH,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,EAAE,GAAG,EAAE,IAAA,cAAI,EAAC,2BAA2B,CAAC,EAAE,EAAE,EAAE,EACpE,iBAAiB,CAAC,kBAAkB,CACrC,CAAA;AACH,CAAC,CAAA;AApBY,QAAA,aAAa,iBAoBzB","sourcesContent":["import { FastifyInstance } from 'fastify'\nimport { ProductController } from '../controllers/product.controller'\nimport { $ref } from '../schemas/product'\n\nexport const productRoutes = async (app: FastifyInstance) => {\n  const productController = new ProductController()\n\n  app.post(\n    '/',\n    {\n      preHandler: [app.authenticate],\n      schema: {\n        body: $ref('CreateProductSchema'),\n        response: { 201: $ref('ProductResponseSchema') },\n      },\n    },\n    productController.registerProductHandler\n  )\n\n  app.get(\n    '/',\n    { schema: { response: { 200: $ref('GetProductsResponseSchema') } } },\n    productController.getProductsHandler\n  )\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d6dcd1448d3e8e112f347621ad8fa7360032d413","contentHash":"5e3812ed6cda79008d6546ba9b9819aeaca4ae72e26e8c7c96def19f8479f690"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/controllers/product.controller.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/controllers/product.controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":47}},"3":{"start":{"line":7,"column":24},"end":{"line":7,"column":35}},"4":{"start":{"line":8,"column":24},"end":{"line":8,"column":84}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":45}},"6":{"start":{"line":12,"column":25},"end":{"line":12,"column":59}},"7":{"start":{"line":13,"column":8},"end":{"line":13,"column":46}},"8":{"start":{"line":16,"column":0},"end":{"line":16,"column":46}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":43},"end":{"line":10,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":37},"end":{"line":14,"column":5}},"line":11}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1},"f":{"0":0,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/controllers/product.controller.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/controllers/product.controller.ts"],"names":[],"mappings":";;;AACA,gDAA+D;AAG/D,MAAa,iBAAiB;IAC5B,KAAK,CAAC,sBAAsB,CAC1B,GAAiD,EACjD,GAAiB;QAEjB,MAAM,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE,CAAA;QAE3B,MAAM,OAAO,GAAG,MAAM,IAAA,uBAAa,EAAC,EAAE,OAAO,EAAE,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC,CAAA;QAE7D,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;IACtC,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,CAAC,EAAE,GAAiB;QAC3C,MAAM,QAAQ,GAAG,MAAM,IAAA,qBAAW,GAAE,CAAA;QACpC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;IACvC,CAAC;CACF;AAhBD,8CAgBC","sourcesContent":["import { CreateProductInput } from '@/schemas/product'\nimport { createProduct, getProducts } from '@/useCases/product'\nimport { FastifyReply, FastifyRequest } from 'fastify'\n\nexport class ProductController {\n  async registerProductHandler(\n    req: FastifyRequest<{ Body: CreateProductInput }>,\n    rep: FastifyReply\n  ) {\n    const ownerId = req.user.id\n\n    const product = await createProduct({ ownerId, ...req.body })\n\n    return rep.status(201).send(product)\n  }\n\n  async getProductsHandler(_, rep: FastifyReply) {\n    const products = await getProducts()\n    return rep.status(200).send(products)\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"83f1740bfffe19438a544cf92ef45c02c88c8203","contentHash":"ee10550e8600f66e63b1d5d17f3f4cdc3e48719595211cd52a17e833342c793c"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/product/index.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/product/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":126}},"13":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"14":{"start":{"line":14,"column":95},"end":{"line":14,"column":126}},"15":{"start":{"line":16,"column":0},"end":{"line":16,"column":62}},"16":{"start":{"line":17,"column":0},"end":{"line":17,"column":50}},"17":{"start":{"line":18,"column":0},"end":{"line":18,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":50},"end":{"line":13,"column":51}},"loc":{"start":{"line":13,"column":71},"end":{"line":15,"column":1}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"type":"binary-expr","locations":[{"start":{"line":13,"column":20},"end":{"line":13,"column":24}},{"start":{"line":13,"column":28},"end":{"line":13,"column":45}},{"start":{"line":13,"column":50},"end":{"line":15,"column":1}}],"line":13},"9":{"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"type":"if","locations":[{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},{"start":{"line":14,"column":21},"end":{"line":14,"column":126}}],"line":14},"10":{"loc":{"start":{"line":14,"column":25},"end":{"line":14,"column":93}},"type":"binary-expr","locations":[{"start":{"line":14,"column":25},"end":{"line":14,"column":40}},{"start":{"line":14,"column":44},"end":{"line":14,"column":93}}],"line":14}},"s":{"0":1,"1":2,"2":2,"3":2,"4":2,"5":2,"6":0,"7":2,"8":0,"9":0,"10":0,"11":1,"12":2,"13":2,"14":2,"15":1,"16":1,"17":1},"f":{"0":2,"1":0,"2":0,"3":2},"b":{"0":[1,1,1],"1":[1,0],"2":[2,0],"3":[2,0],"4":[2,2],"5":[0,2],"6":[2,0],"7":[0,0],"8":[1,1,1],"9":[2,0],"10":[2,2]},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/product/index.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/product/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,kDAA+B;AAC/B,gDAA6B","sourcesContent":["export * from './createProduct'\nexport * from './getProducts'"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"87b7650667e216ea8ec6a3f73d3e4e61abaa5b80","contentHash":"a54207e464524326c4f5828bc6d8b58a879353078711294e54ea44852ca3ef5b"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/product/createProduct.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/product/createProduct.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":42}},"3":{"start":{"line":5,"column":22},"end":{"line":14,"column":1}},"4":{"start":{"line":6,"column":4},"end":{"line":13,"column":7}},"5":{"start":{"line":15,"column":0},"end":{"line":15,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":22},"end":{"line":5,"column":23}},"loc":{"start":{"line":5,"column":32},"end":{"line":14,"column":1}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/product/createProduct.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/product/createProduct.ts"],"names":[],"mappings":";;;AACA,2CAAuC;AAEhC,MAAM,aAAa,GAAG,CAC3B,IAA8C,EAC9C,EAAE;IACF,OAAO,eAAM,CAAC,OAAO,CAAC,MAAM,CAAC;QAC3B,IAAI,EAAE;YACJ,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,OAAO,EAAE,IAAI,CAAC,OAAO;SACtB;KACF,CAAC,CAAA;AACJ,CAAC,CAAA;AAXY,QAAA,aAAa,iBAWzB","sourcesContent":["import { CreateProductInput } from '@/schemas/product'\nimport { prisma } from '@/utils/prisma'\n\nexport const createProduct = (\n  data: CreateProductInput & { ownerId: number }\n) => {\n  return prisma.product.create({\n    data: {\n      price: data.price,\n      ownerId: data.ownerId,\n      title: data.title,\n      content: data.content,\n    },\n  })\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bf4dab33825df4950d51fc756e5bc09f92486633","contentHash":"3b07eed95cdfcf81bd427db7f36a5325f5fe896b086aa5e9258bc238a3d230b5"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/utils/prisma.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/utils/prisma.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":42}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":45}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/utils/prisma.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/utils/prisma.ts"],"names":[],"mappings":";;;AAAA,2CAA6C;AAEhC,QAAA,MAAM,GAAG,IAAI,qBAAY,EAAE,CAAA","sourcesContent":["import { PrismaClient } from '@prisma/client'\n\nexport const prisma = new PrismaClient()\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8bd62b48a8a437e3e911323fb2c591fc062d2f63","contentHash":"55a3a9a730e81099b09349bbf33f5e2f0a5ee2b93583e96c543fc095c3e2f028"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/product/getProducts.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/product/getProducts.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":42}},"3":{"start":{"line":5,"column":20},"end":{"line":15,"column":2}},"4":{"start":{"line":5,"column":26},"end":{"line":15,"column":2}},"5":{"start":{"line":16,"column":0},"end":{"line":16,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":20},"end":{"line":5,"column":21}},"loc":{"start":{"line":5,"column":26},"end":{"line":15,"column":2}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/product/getProducts.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/product/getProducts.ts"],"names":[],"mappings":";;;AAAA,2CAAuC;AAEhC,MAAM,WAAW,GAAG,GAAG,EAAE,CAC9B,eAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;IACtB,MAAM,EAAE;QACN,EAAE,EAAE,IAAI;QACR,KAAK,EAAE,IAAI;QACX,KAAK,EAAE,IAAI;QACX,OAAO,EAAE,IAAI;QACb,KAAK,EAAE;YACL,MAAM,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;SACjC;KACF;CACF,CAAC,CAAA;AAXS,QAAA,WAAW,eAWpB","sourcesContent":["import { prisma } from '@/utils/prisma'\n\nexport const getProducts = () =>\n  prisma.product.findMany({\n    select: {\n      id: true,\n      title: true,\n      price: true,\n      content: true,\n      owner: {\n        select: { id: true, name: true },\n      },\n    },\n  })\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6e7660ed54d94e68302a26ac2cbe21ddcee32c5e","contentHash":"6405ebb8a38dbdee1db2c9c62c55c1d8f26459f267620aa6e7b717d879efe557"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/product/index.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/product/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":126}},"13":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"14":{"start":{"line":14,"column":95},"end":{"line":14,"column":126}},"15":{"start":{"line":16,"column":0},"end":{"line":16,"column":62}},"16":{"start":{"line":17,"column":0},"end":{"line":17,"column":51}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":50},"end":{"line":13,"column":51}},"loc":{"start":{"line":13,"column":71},"end":{"line":15,"column":1}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"type":"binary-expr","locations":[{"start":{"line":13,"column":20},"end":{"line":13,"column":24}},{"start":{"line":13,"column":28},"end":{"line":13,"column":45}},{"start":{"line":13,"column":50},"end":{"line":15,"column":1}}],"line":13},"9":{"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"type":"if","locations":[{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},{"start":{"line":14,"column":21},"end":{"line":14,"column":126}}],"line":14},"10":{"loc":{"start":{"line":14,"column":25},"end":{"line":14,"column":93}},"type":"binary-expr","locations":[{"start":{"line":14,"column":25},"end":{"line":14,"column":40}},{"start":{"line":14,"column":44},"end":{"line":14,"column":93}}],"line":14}},"s":{"0":1,"1":2,"2":2,"3":2,"4":2,"5":2,"6":4,"7":2,"8":0,"9":0,"10":0,"11":1,"12":1,"13":2,"14":2,"15":1,"16":1},"f":{"0":2,"1":4,"2":0,"3":1},"b":{"0":[1,1,1],"1":[1,0],"2":[2,0],"3":[2,0],"4":[2,2],"5":[0,2],"6":[2,0],"7":[0,0],"8":[1,1,1],"9":[2,0],"10":[2,2]},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/product/index.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/product/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,mDAAgC","sourcesContent":["export * from './product.schema'"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5bebe19f7924e25ca6208ed290e66b07b55a89d3","contentHash":"64eb3302392255eea585253f7a30d0f8717ffc4d5761976b62d78954e6f8e358"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/product/product.schema.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/product/product.schema.ts","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":62}},"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":47}},"2":{"start":{"line":5,"column":22},"end":{"line":5,"column":44}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":28}},"4":{"start":{"line":7,"column":27},"end":{"line":11,"column":1}},"5":{"start":{"line":12,"column":28},"end":{"line":14,"column":2}},"6":{"start":{"line":15,"column":30},"end":{"line":20,"column":2}},"7":{"start":{"line":21,"column":34},"end":{"line":28,"column":3}},"8":{"start":{"line":29,"column":0},"end":{"line":33,"column":64}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/product/product.schema.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/product/product.schema.ts"],"names":[],"mappings":";;;;AAAA,6CAA8C;AAC9C,6BAA+B;AAE/B,MAAM,kBAAkB,GAAG;IACzB,KAAK,EAAE,OAAC,CAAC,MAAM,EAAE;IACjB,OAAO,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC9B,KAAK,EAAE,OAAC,CAAC,MAAM,EAAE;CAClB,CAAA;AAED,MAAM,mBAAmB,GAAG,OAAC,CAAC,MAAM,CAAC;IACnC,GAAG,kBAAkB;CACtB,CAAC,CAAA;AAEF,MAAM,qBAAqB,GAAG,OAAC,CAAC,MAAM,CAAC;IACrC,EAAE,EAAE,OAAC,CAAC,MAAM,EAAE;IACd,SAAS,EAAE,OAAC,CAAC,MAAM,EAAE;IACrB,SAAS,EAAE,OAAC,CAAC,MAAM,EAAE;IACrB,GAAG,kBAAkB;CACtB,CAAC,CAAA;AAEF,MAAM,yBAAyB,GAAG,OAAC,CAAC,KAAK,CACvC,OAAC,CAAC,MAAM,CAAC;IACP,EAAE,EAAE,OAAC,CAAC,MAAM,EAAE;IACd,GAAG,kBAAkB;IACrB,KAAK,EAAE,OAAC,CAAC,MAAM,CAAC;QACd,EAAE,EAAE,OAAC,CAAC,MAAM,EAAE;QACd,IAAI,EAAE,OAAC,CAAC,MAAM,EAAE;KACjB,CAAC;CACH,CAAC,CACH,CAAA;AAIY,KAAoC,IAAA,8BAAgB,EAAC;IAChE,mBAAmB;IACnB,qBAAqB;IACrB,yBAAyB;CAC1B,CAAC,EAJa,YAAI,YAAW,sBAAc,cAI1C","sourcesContent":["import { buildJsonSchemas } from 'fastify-zod'\nimport { object, z } from 'zod'\n\nconst ProductInputSchema = {\n  title: z.string(),\n  content: z.string().optional(),\n  price: z.number(),\n}\n\nconst CreateProductSchema = z.object({\n  ...ProductInputSchema,\n})\n\nconst ProductResponseSchema = z.object({\n  id: z.number(),\n  createdAt: z.string(),\n  updatedAt: z.string(),\n  ...ProductInputSchema,\n})\n\nconst GetProductsResponseSchema = z.array(\n  z.object({\n    id: z.number(),\n    ...ProductInputSchema,\n    owner: z.object({\n      id: z.number(),\n      name: z.string(),\n    }),\n  })\n)\n\nexport type CreateProductInput = z.infer<typeof CreateProductSchema>\n\nexport const { $ref, schemas: productSchemas } = buildJsonSchemas({\n  CreateProductSchema,\n  ProductResponseSchema,\n  GetProductsResponseSchema,\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6895f836eec36c34f6dd2e65e6ae5836fe931486","contentHash":"cd2951190f6ddcbcd4e1a679fa4f150c5d1ec9ebea3c0659dcaa0c4764d6c057"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/routes/userRoutes.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/routes/userRoutes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}},"2":{"start":{"line":4,"column":26},"end":{"line":4,"column":66}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":40}},"4":{"start":{"line":6,"column":19},"end":{"line":23,"column":1}},"5":{"start":{"line":7,"column":27},"end":{"line":7,"column":65}},"6":{"start":{"line":8,"column":4},"end":{"line":13,"column":43}},"7":{"start":{"line":14,"column":4},"end":{"line":21,"column":40}},"8":{"start":{"line":22,"column":4},"end":{"line":22,"column":85}},"9":{"start":{"line":24,"column":0},"end":{"line":24,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":19},"end":{"line":6,"column":20}},"loc":{"start":{"line":6,"column":34},"end":{"line":23,"column":1}},"line":6}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/routes/userRoutes.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/routes/userRoutes.ts"],"names":[],"mappings":";;;AACA,mEAA8D;AAC9D,yCAAqC;AAE9B,MAAM,UAAU,GAAG,KAAK,EAAE,GAAoB,EAAE,EAAE;IACvD,MAAM,cAAc,GAAG,IAAI,gCAAc,EAAE,CAAA;IAE3C,GAAG,CAAC,IAAI,CACN,GAAG,EACH;QACE,MAAM,EAAE;YACN,IAAI,EAAE,IAAA,WAAI,EAAC,oBAAoB,CAAC;YAChC,QAAQ,EAAE,EAAE,GAAG,EAAE,IAAA,WAAI,EAAC,4BAA4B,CAAC,EAAE;SACtD;KACF,EACD,cAAc,CAAC,mBAAmB,CACnC,CAAA;IAED,GAAG,CAAC,IAAI,CACN,QAAQ,EACR;QACE,MAAM,EAAE;YACN,IAAI,EAAE,IAAA,WAAI,EAAC,iBAAiB,CAAC;YAC7B,QAAQ,EAAE;gBACR,GAAG,EAAE,IAAA,WAAI,EAAC,qBAAqB,CAAC;aACjC;SACF;KACF,EACD,cAAc,CAAC,gBAAgB,CAChC,CAAA;IAED,GAAG,CAAC,GAAG,CACL,GAAG,EACH,EAAE,UAAU,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,EAClC,cAAc,CAAC,eAAe,CAC/B,CAAA;AACH,CAAC,CAAA;AAhCY,QAAA,UAAU,cAgCtB","sourcesContent":["import { FastifyInstance } from 'fastify'\nimport { UserController } from '@/controllers/user.controller'\nimport { $ref } from '@/schemas/user'\n\nexport const userRoutes = async (app: FastifyInstance) => {\n  const userController = new UserController()\n\n  app.post(\n    '/',\n    {\n      schema: {\n        body: $ref('RegisterUserSchema'),\n        response: { 201: $ref('RegisterUserResponseSchema') },\n      },\n    },\n    userController.registerUserHandler\n  )\n\n  app.post(\n    '/login',\n    {\n      schema: {\n        body: $ref('LogInUserSchema'),\n        response: {\n          200: $ref('LogInResponseSchema'),\n        },\n      },\n    },\n    userController.logInUserHandler\n  )\n\n  app.get(\n    '/',\n    { preHandler: [app.authenticate] },\n    userController.getUsersHandler\n  )\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"768d6c6a97b62d0d13424299bb4fe447953b758c","contentHash":"600b36142e7a1f74e183b387715ca2cc4642a055343f7fa7876c51db4c16b91b"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/controllers/user.controller.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/controllers/user.controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":41}},"3":{"start":{"line":7,"column":42},"end":{"line":7,"column":50}},"4":{"start":{"line":8,"column":21},"end":{"line":8,"column":76}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":42}},"6":{"start":{"line":12,"column":21},"end":{"line":12,"column":29}},"7":{"start":{"line":13,"column":23},"end":{"line":13,"column":70}},"8":{"start":{"line":14,"column":8},"end":{"line":14,"column":44}},"9":{"start":{"line":17,"column":22},"end":{"line":17,"column":51}},"10":{"start":{"line":18,"column":8},"end":{"line":18,"column":47}},"11":{"start":{"line":21,"column":0},"end":{"line":21,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":40},"end":{"line":10,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":37},"end":{"line":15,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":34},"end":{"line":19,"column":5}},"line":16}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"f":{"0":0,"1":0,"2":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/controllers/user.controller.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/controllers/user.controller.ts"],"names":[],"mappings":";;;AACA,0CAAkE;AAGlE,MAAa,cAAc;IACzB,KAAK,CAAC,mBAAmB,CACvB,GAAgD,EAChD,GAAiB;QAEjB,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAA;QAE1C,MAAM,IAAI,GAAG,MAAM,IAAA,iBAAU,EAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAA;QAExD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;IACnC,CAAC;IAED,KAAK,CAAC,gBAAgB,CACpB,GAA6C,EAC7C,GAAiB;QAEjB,MAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAA;QACrB,MAAM,MAAM,GAAG,MAAM,IAAA,gBAAS,EAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;QAClD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;IACrC,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,CAAC,EAAE,GAAiB;QACxC,MAAM,KAAK,GAAG,MAAM,IAAA,gBAAS,GAAE,CAAA;QAC/B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,CAAA;IACxC,CAAC;CACF;AAzBD,wCAyBC","sourcesContent":["import { FastifyReply, FastifyRequest } from 'fastify'\nimport { createUser, findUsers, logInUser } from '@/useCases/user'\nimport { RegisterUserInput, LogInUserInput } from '@/schemas/user'\n\nexport class UserController {\n  async registerUserHandler(\n    req: FastifyRequest<{ Body: RegisterUserInput }>,\n    rep: FastifyReply\n  ) {\n    const { email, name, password } = req.body\n\n    const user = await createUser({ email, password, name })\n\n    return rep.status(201).send(user)\n  }\n\n  async logInUserHandler(\n    req: FastifyRequest<{ Body: LogInUserInput }>,\n    rep: FastifyReply\n  ) {\n    const data = req.body\n    const result = await logInUser(req.jwt.sign, data)\n    return rep.status(200).send(result)\n  }\n\n  async getUsersHandler(_, rep: FastifyReply) {\n    const users = await findUsers()\n    return rep.status(200).send({ users })\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1792dc4f5d0ac227c5fdeded7dedf5cd0160a1d5","contentHash":"7e1f5f1805d9886b989ff0a4afe48e8ee9d014f119119faa9a56361cda4a9a77"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/index.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":126}},"13":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"14":{"start":{"line":14,"column":95},"end":{"line":14,"column":126}},"15":{"start":{"line":16,"column":0},"end":{"line":16,"column":62}},"16":{"start":{"line":17,"column":0},"end":{"line":17,"column":47}},"17":{"start":{"line":18,"column":0},"end":{"line":18,"column":46}},"18":{"start":{"line":19,"column":0},"end":{"line":19,"column":46}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":50},"end":{"line":13,"column":51}},"loc":{"start":{"line":13,"column":71},"end":{"line":15,"column":1}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"type":"binary-expr","locations":[{"start":{"line":13,"column":20},"end":{"line":13,"column":24}},{"start":{"line":13,"column":28},"end":{"line":13,"column":45}},{"start":{"line":13,"column":50},"end":{"line":15,"column":1}}],"line":13},"9":{"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"type":"if","locations":[{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},{"start":{"line":14,"column":21},"end":{"line":14,"column":126}}],"line":14},"10":{"loc":{"start":{"line":14,"column":25},"end":{"line":14,"column":93}},"type":"binary-expr","locations":[{"start":{"line":14,"column":25},"end":{"line":14,"column":40}},{"start":{"line":14,"column":44},"end":{"line":14,"column":93}}],"line":14}},"s":{"0":1,"1":3,"2":3,"3":3,"4":3,"5":3,"6":0,"7":3,"8":0,"9":0,"10":0,"11":1,"12":3,"13":3,"14":3,"15":1,"16":1,"17":1,"18":1},"f":{"0":3,"1":0,"2":0,"3":3},"b":{"0":[1,1,1],"1":[1,0],"2":[3,0],"3":[3,0],"4":[3,3],"5":[0,3],"6":[3,0],"7":[0,0],"8":[1,1,1],"9":[3,0],"10":[3,3]},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/index.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,+CAA4B;AAC5B,8CAA2B;AAC3B,8CAA2B","sourcesContent":["export * from './createUser'\nexport * from './logInUser'\nexport * from './findUsers'"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"418500bb5cd0cf50cc5937cc9186efac48da260c","contentHash":"aa6f0b2fd79d719fcd353338c7b37f4c75c89b5e644792442ab4be28ca2e1fe6"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/createUser.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/createUser.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":42}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":38}},"4":{"start":{"line":6,"column":23},"end":{"line":6,"column":55}},"5":{"start":{"line":7,"column":19},"end":{"line":21,"column":1}},"6":{"start":{"line":8,"column":38},"end":{"line":8,"column":42}},"7":{"start":{"line":9,"column":29},"end":{"line":9,"column":87}},"8":{"start":{"line":10,"column":4},"end":{"line":11,"column":73}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":73}},"10":{"start":{"line":12,"column":27},"end":{"line":12,"column":61}},"11":{"start":{"line":13,"column":4},"end":{"line":20,"column":7}},"12":{"start":{"line":22,"column":0},"end":{"line":22,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":19},"end":{"line":7,"column":20}},"loc":{"start":{"line":7,"column":35},"end":{"line":21,"column":1}},"line":7}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":4},"end":{"line":11,"column":73}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":11,"column":73}},{"start":{"line":10,"column":4},"end":{"line":11,"column":73}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1},"f":{"0":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/createUser.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/createUser.ts"],"names":[],"mappings":";;;AACA,2CAAuC;AACvC,uCAA2C;AAC3C,wDAAoD;AAE7C,MAAM,UAAU,GAAG,KAAK,EAAE,IAAuB,EAAE,EAAE;IAC1D,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,IAAI,CAAA;IAEtC,MAAM,gBAAgB,GAAG,MAAM,eAAM,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAA;IAE1E,IAAI,gBAAgB;QAAE,MAAM,IAAI,2BAAY,CAAC,oBAAoB,EAAE,GAAG,CAAC,CAAA;IAEvE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,IAAA,mBAAY,EAAC,QAAQ,CAAC,CAAA;IAE7C,OAAO,MAAM,eAAM,CAAC,IAAI,CAAC,MAAM,CAAC;QAC9B,IAAI,EAAE;YACJ,KAAK;YACL,IAAI;YACJ,QAAQ,EAAE,IAAI;YACd,IAAI;SACL;KACF,CAAC,CAAA;AACJ,CAAC,CAAA;AAjBY,QAAA,UAAU,cAiBtB","sourcesContent":["import { RegisterUserInput } from '@/schemas/user'\nimport { prisma } from '@/utils/prisma'\nimport { hashPassword } from '@/utils/hash'\nimport { RequestError } from '@/errors/RequestError'\n\nexport const createUser = async (data: RegisterUserInput) => {\n  const { password, email, name } = data\n\n  const userAlreadyExist = await prisma.user.findFirst({ where: { email } })\n\n  if (userAlreadyExist) throw new RequestError('Email already used', 400)\n\n  const { hash, salt } = hashPassword(password)\n\n  return await prisma.user.create({\n    data: {\n      email,\n      name,\n      password: hash,\n      salt,\n    },\n  })\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"48329d18093ad4f2a70307aa82e912b25def4b6b","contentHash":"9bf39298bb2f781e1cb8c8e008d0cd7cd0f33c350a1813007f110830c0ca10ee"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/utils/hash.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/utils/hash.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":55}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":34}},"3":{"start":{"line":5,"column":21},"end":{"line":9,"column":1}},"4":{"start":{"line":6,"column":17},"end":{"line":6,"column":62}},"5":{"start":{"line":7,"column":17},"end":{"line":7,"column":93}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":26}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":36}},"8":{"start":{"line":11,"column":23},"end":{"line":14,"column":1}},"9":{"start":{"line":12,"column":26},"end":{"line":12,"column":111}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":44}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":21},"end":{"line":5,"column":22}},"loc":{"start":{"line":5,"column":35},"end":{"line":9,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":23},"end":{"line":11,"column":24}},"loc":{"start":{"line":11,"column":73},"end":{"line":14,"column":1}},"line":11}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":1,"8":1,"9":0,"10":0,"11":1},"f":{"0":0,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/utils/hash.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/utils/hash.ts"],"names":[],"mappings":";;;AAAA,mCAAgD;AAEzC,MAAM,YAAY,GAAG,CAAC,QAAgB,EAAE,EAAE;IAC/C,MAAM,IAAI,GAAG,IAAA,oBAAW,EAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;IAC5C,MAAM,IAAI,GAAG,IAAA,mBAAU,EAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;IAC3E,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,CAAA;AACvB,CAAC,CAAA;AAJY,QAAA,YAAY,gBAIxB;AAEM,MAAM,cAAc,GAAG,CAAC,EAC7B,iBAAiB,EACjB,cAAc,EACd,IAAI,GAKL,EAAE,EAAE;IACH,MAAM,aAAa,GAAG,IAAA,mBAAU,EAC9B,iBAAiB,EACjB,IAAI,EACJ,IAAI,EACJ,EAAE,EACF,QAAQ,CACT,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;IAEjB,OAAO,aAAa,KAAK,cAAc,CAAA;AACzC,CAAC,CAAA;AAlBY,QAAA,cAAc,kBAkB1B","sourcesContent":["import { pbkdf2Sync, randomBytes } from 'crypto'\n\nexport const hashPassword = (password: string) => {\n  const salt = randomBytes(16).toString('hex')\n  const hash = pbkdf2Sync(password, salt, 1000, 64, 'sha512').toString('hex')\n  return { salt, hash }\n}\n\nexport const verifyPassword = ({\n  candidatePassword,\n  hashedPassword,\n  salt,\n}: {\n  candidatePassword: string\n  hashedPassword: string\n  salt: string\n}) => {\n  const candidateHash = pbkdf2Sync(\n    candidatePassword,\n    salt,\n    1000,\n    64,\n    'sha512'\n  ).toString('hex')\n\n  return candidateHash === hashedPassword\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"646d5c47c06e45dd3fdafcac7b89a456be2bbf44","contentHash":"0dcab58876528ce30e46e7106af21c5d00675bbaaa94358e9edf693292798ce4"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/logInUser.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/logInUser.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":38}},"3":{"start":{"line":5,"column":17},"end":{"line":5,"column":42}},"4":{"start":{"line":6,"column":23},"end":{"line":6,"column":55}},"5":{"start":{"line":7,"column":18},"end":{"line":24,"column":1}},"6":{"start":{"line":8,"column":51},"end":{"line":8,"column":55}},"7":{"start":{"line":9,"column":17},"end":{"line":9,"column":75}},"8":{"start":{"line":10,"column":4},"end":{"line":11,"column":73}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":73}},"10":{"start":{"line":12,"column":27},"end":{"line":16,"column":6}},"11":{"start":{"line":17,"column":4},"end":{"line":18,"column":73}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":73}},"13":{"start":{"line":19,"column":40},"end":{"line":19,"column":44}},"14":{"start":{"line":20,"column":24},"end":{"line":22,"column":6}},"15":{"start":{"line":23,"column":4},"end":{"line":23,"column":27}},"16":{"start":{"line":25,"column":0},"end":{"line":25,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":18},"end":{"line":7,"column":19}},"loc":{"start":{"line":7,"column":43},"end":{"line":24,"column":1}},"line":7}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":4},"end":{"line":11,"column":73}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":11,"column":73}},{"start":{"line":10,"column":4},"end":{"line":11,"column":73}}],"line":10},"1":{"loc":{"start":{"line":17,"column":4},"end":{"line":18,"column":73}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":18,"column":73}},{"start":{"line":17,"column":4},"end":{"line":18,"column":73}}],"line":17}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1},"f":{"0":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/logInUser.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/logInUser.ts"],"names":[],"mappings":";;;AACA,uCAA6C;AAC7C,2CAAuC;AACvC,wDAAoD;AAG7C,MAAM,SAAS,GAAG,KAAK,EAAE,OAAoB,EAAE,IAAoB,EAAE,EAAE;IAC5E,MAAM,EAAE,QAAQ,EAAE,iBAAiB,EAAE,KAAK,EAAE,GAAG,IAAI,CAAA;IAEnD,MAAM,IAAI,GAAG,MAAM,eAAM,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAA;IAE9D,IAAI,CAAC,IAAI;QAAE,MAAM,IAAI,2BAAY,CAAC,oBAAoB,EAAE,GAAG,CAAC,CAAA;IAE5D,MAAM,cAAc,GAAG,IAAA,qBAAc,EAAC;QACpC,iBAAiB;QACjB,cAAc,EAAE,IAAI,CAAC,QAAQ;QAC7B,IAAI,EAAE,IAAI,CAAC,IAAI;KAChB,CAAC,CAAA;IAEF,IAAI,CAAC,cAAc;QAAE,MAAM,IAAI,2BAAY,CAAC,oBAAoB,EAAE,GAAG,CAAC,CAAA;IAEtE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,IAAI,EAAE,GAAG,IAAI,CAAA;IAExC,MAAM,WAAW,GAAG,OAAO,CAAC,IAAI,EAAE;QAChC,SAAS,EAAE,KAAK;KACjB,CAAC,CAAA;IAEF,OAAO,EAAE,WAAW,EAAE,CAAA;AACxB,CAAC,CAAA;AAtBY,QAAA,SAAS,aAsBrB","sourcesContent":["import { LogInUserInput } from '@/schemas/user'\nimport { verifyPassword } from '@/utils/hash'\nimport { prisma } from '@/utils/prisma'\nimport { RequestError } from '@/errors/RequestError'\nimport { JWT } from '@fastify/jwt'\n\nexport const logInUser = async (signJWT: JWT['sign'], data: LogInUserInput) => {\n  const { password: candidatePassword, email } = data\n\n  const user = await prisma.user.findFirst({ where: { email } })\n\n  if (!user) throw new RequestError(\"User doesn't exist\", 401)\n\n  const passwordsMatch = verifyPassword({\n    candidatePassword,\n    hashedPassword: user.password,\n    salt: user.salt,\n  })\n\n  if (!passwordsMatch) throw new RequestError(\"User doesn't exist\", 401)\n\n  const { password, salt, ...rest } = user\n\n  const accessToken = signJWT(rest, {\n    expiresIn: '30m',\n  })\n\n  return { accessToken }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"259779feb54e9ef4b1dd5db4d4a89ea0a0ef32e6","contentHash":"5dfe8651c8c8c96a7d26175faeb250bf086036d00003a0b75fd103ccd7ef31f7"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/findUsers.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/findUsers.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":42}},"3":{"start":{"line":5,"column":18},"end":{"line":11,"column":2}},"4":{"start":{"line":5,"column":24},"end":{"line":11,"column":2}},"5":{"start":{"line":12,"column":0},"end":{"line":12,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":18},"end":{"line":5,"column":19}},"loc":{"start":{"line":5,"column":24},"end":{"line":11,"column":2}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/findUsers.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/useCases/user/findUsers.ts"],"names":[],"mappings":";;;AAAA,2CAAuC;AAEhC,MAAM,SAAS,GAAG,GAAG,EAAE,CAC5B,eAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;IACnB,MAAM,EAAE;QACN,EAAE,EAAE,IAAI;QACR,IAAI,EAAE,IAAI;QACV,KAAK,EAAE,IAAI;KACZ;CACF,CAAC,CAAA;AAPS,QAAA,SAAS,aAOlB","sourcesContent":["import { prisma } from '@/utils/prisma'\n\nexport const findUsers = () =>\n  prisma.user.findMany({\n    select: {\n      id: true,\n      name: true,\n      email: true,\n    },\n  })\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1b567852f51acb6a45538142830c0874c48d679e","contentHash":"8c8309c917cef3da6cdd28139ec5085e193496e0b817ff88cf11ae7490f8d0b1"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/user/index.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/user/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":126}},"13":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"14":{"start":{"line":14,"column":95},"end":{"line":14,"column":126}},"15":{"start":{"line":16,"column":0},"end":{"line":16,"column":62}},"16":{"start":{"line":17,"column":0},"end":{"line":17,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":50},"end":{"line":13,"column":51}},"loc":{"start":{"line":13,"column":71},"end":{"line":15,"column":1}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":19},"end":{"line":15,"column":1}},"type":"binary-expr","locations":[{"start":{"line":13,"column":20},"end":{"line":13,"column":24}},{"start":{"line":13,"column":28},"end":{"line":13,"column":45}},{"start":{"line":13,"column":50},"end":{"line":15,"column":1}}],"line":13},"9":{"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},"type":"if","locations":[{"start":{"line":14,"column":21},"end":{"line":14,"column":126}},{"start":{"line":14,"column":21},"end":{"line":14,"column":126}}],"line":14},"10":{"loc":{"start":{"line":14,"column":25},"end":{"line":14,"column":93}},"type":"binary-expr","locations":[{"start":{"line":14,"column":25},"end":{"line":14,"column":40}},{"start":{"line":14,"column":44},"end":{"line":14,"column":93}}],"line":14}},"s":{"0":1,"1":2,"2":2,"3":2,"4":2,"5":2,"6":5,"7":2,"8":0,"9":0,"10":0,"11":1,"12":1,"13":2,"14":2,"15":1,"16":1},"f":{"0":2,"1":5,"2":0,"3":1},"b":{"0":[1,1,1],"1":[1,0],"2":[2,0],"3":[2,0],"4":[2,2],"5":[0,2],"6":[2,0],"7":[0,0],"8":[1,1,1],"9":[2,0],"10":[2,2]},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/user/index.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/user/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,gDAA6B","sourcesContent":["export * from './user.schema'"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ad60372d434a09b4bf0c75fd55b4f7cc4496b11e","contentHash":"7b13fc62f63ef52506a7ae53395672369a66022d8a96c772d6cff32620e193f4"},"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/user/user.schema.ts":{"path":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/user/user.schema.ts","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":62}},"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":44}},"2":{"start":{"line":5,"column":14},"end":{"line":5,"column":28}},"3":{"start":{"line":6,"column":22},"end":{"line":6,"column":44}},"4":{"start":{"line":7,"column":17},"end":{"line":15,"column":1}},"5":{"start":{"line":16,"column":27},"end":{"line":26,"column":2}},"6":{"start":{"line":27,"column":35},"end":{"line":30,"column":2}},"7":{"start":{"line":31,"column":24},"end":{"line":42,"column":2}},"8":{"start":{"line":43,"column":28},"end":{"line":45,"column":2}},"9":{"start":{"line":46,"column":0},"end":{"line":51,"column":61}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/user/user.schema.ts","sources":["/home/suegoidkun/Documentos/projects/back/js/api_fastify/src/schemas/user/user.schema.ts"],"names":[],"mappings":";;;;AAAA,6BAAuB;AACvB,6CAA8C;AAE9C,MAAM,QAAQ,GAAG;IACf,KAAK,EAAE,OAAC;SACL,MAAM,CAAC;QACN,cAAc,EAAE,mBAAmB;QACnC,kBAAkB,EAAE,wBAAwB;KAC7C,CAAC;SACD,KAAK,EAAE;IACV,IAAI,EAAE,OAAC,CAAC,MAAM,EAAE;CACjB,CAAA;AAED,MAAM,kBAAkB,GAAG,OAAC,CAAC,MAAM,CAAC;IAClC,GAAG,QAAQ;IACX,QAAQ,EAAE,OAAC;SACR,MAAM,CAAC;QACN,cAAc,EAAE,sBAAsB;QACtC,kBAAkB,EAAE,2BAA2B;KAChD,CAAC;SACD,GAAG,CAAC,CAAC,EAAE;QACN,OAAO,EAAE,wCAAwC;KAClD,CAAC;CACL,CAAC,CAAA;AACF,MAAM,0BAA0B,GAAG,OAAC,CAAC,MAAM,CAAC;IAC1C,EAAE,EAAE,OAAC,CAAC,MAAM,EAAE;IACd,GAAG,QAAQ;CACZ,CAAC,CAAA;AAEF,MAAM,eAAe,GAAG,OAAC,CAAC,MAAM,CAAC;IAC/B,KAAK,EAAE,OAAC;SACL,MAAM,CAAC;QACN,cAAc,EAAE,mBAAmB;QACnC,kBAAkB,EAAE,wBAAwB;KAC7C,CAAC;SACD,KAAK,EAAE;IACV,QAAQ,EAAE,OAAC,CAAC,MAAM,CAAC;QACjB,cAAc,EAAE,sBAAsB;QACtC,kBAAkB,EAAE,2BAA2B;KAChD,CAAC;CACH,CAAC,CAAA;AACF,MAAM,mBAAmB,GAAG,OAAC,CAAC,MAAM,CAAC;IACnC,WAAW,EAAE,OAAC,CAAC,MAAM,EAAE;CACxB,CAAC,CAAA;AAKW,KAAiC,IAAA,8BAAgB,EAAC;IAC7D,kBAAkB;IAClB,0BAA0B;IAC1B,eAAe;IACf,mBAAmB;CACpB,CAAC,EALsB,mBAAW,eAAE,YAAI,WAKvC","sourcesContent":["import { z } from 'zod'\nimport { buildJsonSchemas } from 'fastify-zod'\n\nconst UserCore = {\n  email: z\n    .string({\n      required_error: 'Email is required',\n      invalid_type_error: 'Email must be a string',\n    })\n    .email(),\n  name: z.string(),\n}\n\nconst RegisterUserSchema = z.object({\n  ...UserCore,\n  password: z\n    .string({\n      required_error: 'Password is required',\n      invalid_type_error: 'Password must be a string',\n    })\n    .min(4, {\n      message: 'Password must be at least 4 characters',\n    }),\n})\nconst RegisterUserResponseSchema = z.object({\n  id: z.number(),\n  ...UserCore,\n})\n\nconst LogInUserSchema = z.object({\n  email: z\n    .string({\n      required_error: 'Email is required',\n      invalid_type_error: 'Email must be a string',\n    })\n    .email(),\n  password: z.string({\n    required_error: 'Password is required',\n    invalid_type_error: 'Password must be a string',\n  }),\n})\nconst LogInResponseSchema = z.object({\n  accessToken: z.string(),\n})\n\nexport type RegisterUserInput = z.infer<typeof RegisterUserSchema>\nexport type LogInUserInput = z.infer<typeof LogInUserSchema>\n\nexport const { schemas: userSchemas, $ref } = buildJsonSchemas({\n  RegisterUserSchema,\n  RegisterUserResponseSchema,\n  LogInUserSchema,\n  LogInResponseSchema,\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5bbda030d5e7a66159447c2db0d98628dc9e6413","contentHash":"37b048d6a2368ecfa243bd01ec69d33c8a0dff00aa6008f069c02e7499cc342a"}}